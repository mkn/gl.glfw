<!--

./mkn.xml

Created on: 8 Mar 2015

Copyright (c) 2013, Philip Deegan

This file is part of Nvidia NvUI

See ./license.txt
-->
<?xml version="1.0" encoding="UTF-8" ?>
<maiken>
	<properties>
		<github>http://www.github.com/Dekken</github>
		<git>${github}/gl.glfw.git</git>
	</properties>
	<project>
		<name>gl.glfw</name>
		<version>master</version>
		<scr scm="git">${git}</scr>
	</project>

	<profiles>
		<profile name="c">
			<includes>
				<include>./include</include>
				<include>./src</include>
			</includes>
			<sources>
				<source recurse="false">./src</source>
			</sources>
			<build type="lib"> 
				<files>
					<file type="c">
						<args><arg>-D_GLFW_USE_OPENGL=1</arg></args>
					</file>
				</files>
			</build> 
			<dependencies>
				<dependency>
					<name>gl.gl</name>
					<version>master</version>
					<scr scm="git">${github}/gl.gl.git</scr>
				</dependency>
			</dependencies>
		</profile>
		<profile name="nix" parent="c" os="nix">
			<sources>
				<source recurse="false">./src/nix</source>
				<source recurse="false">./src/posix</source>
			</sources>			
			<libraries>
				<library>dl</library>
				<library>X11</library>
				<library>Xcursor</library>
				<library>Xrandr</library>
				<library>Xinerama</library>
				<library>pthread</library>
			</libraries>
			<build type="lib" lang="c"> 
				<files>
					<file type="c">
						<args>
							<arg>-D_GLFW_X11</arg>
							<arg>-D_GLFW_GLX</arg>
							<arg>-D_GLFW_HAS_DLOPEN</arg>
						</args>
					</file>
				</files>
			</build> 
		</profile>
		<profile name="bsd" parent="c" os="bsd">
			<build type="lib" lang="c"> 
				<files>
					<file type="cpp">
						<args><arg>-DMACOSX</arg></args>
					</file>
				</files>
			</build> 
		</profile>
		<profile name="win" parent="c" os="win">
			<sources>
				<source recurse="false">./src/win</source>
			</sources>
			<libraries>
				<library>Shell32</library>
				<library>User32</library>
				<library>Gdi32</library>
				<library>Xinput</library>
			</libraries>
			<build type="lib" lang="c"> 
				<files>
					<file type="c">
						<args>
							<arg>-D_GLFW_WIN32</arg>
							<arg>-D_GLFW_WGL</arg>
						</args>
					</file>
				</files>
			</build> 
		</profile>
	</profiles>
</maiken>
